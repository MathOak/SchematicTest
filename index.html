<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <title>Unity WebGL Player | Schematics</title>
</head>
<body>
    <script src="Generator.js"></script>
    <script>
        function drawImageOnScreen() {
            var inputField = document.getElementById("inputField");
            var schematicData = inputField.value;

            GenerateSchematicImage(schematicData).then(function (image) {
                document.body.appendChild(image);
            }).catch(function (error) {
                console.error(error);
            });
        }

        function downloadImage() {
            var inputField = document.getElementById("inputField");
            var schematicData = inputField.value;

            GenerateSchematicImage(schematicData).then(function (image) {
                var link = document.createElement('a');
                link.href = image.src;
                link.download = "schematic.png";
                link.style.display = 'none';

                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });
        }        
    </script>

    <textarea type="text" id="inputField" style="width: 400px; height: 200px;">{&quot;drillDeph&quot;:2000.0,&quot;parts&quot;:[]}</textarea>

    <button onclick="drawImageOnScreen()">Desenhar Imagem</button>
    <button onclick="downloadImage()">Baixar Imagem</button>
</body>
</html>
